# TinyBERT 多轮对话意图识别数据集

## 数据集概述

本数据集专为TinyBERT多轮对话意图识别任务设计，包含12个意图类别，共6000条高质量对话数据。

### 数据统计

| 指标 | 数值 |
|------|------|
| 总样本数 | 6000条 |
| 类别数 | 12类 |
| 每类样本数 | 500条 |
| 用户轮数范围 | 1-4轮 |
| 轮数分布 | 均衡（24.6%-25.5%） |

## 意图类别说明

| Label | 类别名称 | 说明 | 示例 |
|-------|---------|------|------|
| 0 | 问题求助/技术支持 | 用户遇到问题寻求帮助，包括技术问题、学习困难、操作咨询等 | "我的电脑开不了机怎么办" |
| 1 | 闲聊 | 非任务导向的随意聊天，包括问候、兴趣、哲学话题等 | "你好啊，今天过得怎么样" |
| 2 | 天气查询 | 查询天气信息、温度、降雨概率等 | "明天北京天气怎么样" |
| 3 | 新闻资讯 | 查询各类新闻动态、热点事件 | "最近有什么科技新闻" |
| 4 | 音乐播放 | 播放音乐、切换歌曲、调整音量等 | "播放周杰伦的歌" |
| 5 | 提醒设置 | 设置提醒、闹钟、查看或管理提醒 | "明天早上7点提醒我开会" |
| 6 | 设备状态查询 | 查询或调整设备状态（电量、音量、存储、网络等） | "还有多少电量" |
| 7 | 通话视频 | 发起通话、视频、调整通话设置 | "给张三打电话" |
| 8 | 安全监测 | 健康监测、安全报警、异常检测 | "帮我检测一下健康状况" |
| 9 | 空间操作 | 控制机器人在空间中移动、操作物体 | "去厨房帮我拿遥控器" |
| 10 | 视觉识别 | 识别物体、文字OCR、图像分析 | "这是什么东西" |
| 11 | 地点推荐 | 推荐餐厅、商场、娱乐场所等 | "附近有什么好的餐厅" |

## 数据特点

### 1. 意图明确
- 每个对话都有单一明确的意图
- Label 0 包含所有意图不明确或需要技术支持的对话
- Label 1-11 各有专属的明确意图

### 2. 逻辑连贯
- 系统回复与用户请求匹配
- 对话流程自然流畅
- 上下文关联性强

### 3. 格式规范
- **所有对话的最后一轮都是用户发言**（符合意图识别任务要求）
- 用户轮数定义：对话中用户发言的次数（1-4轮）
- 对话轮次 = 用户轮次 × 2 - 1（单轮）或 用户轮次 × 2（多轮）

### 4. 分布均衡
- 每个类别精确500条
- 用户轮数1-4轮分布均衡（~25%）

## 数据格式

### 文件结构
```
data/
├── label_0.json   # 问题求助/技术支持
├── label_1.json   # 闲聊
├── label_2.json   # 天气查询
├── label_3.json   # 新闻资讯
├── label_4.json   # 音乐播放
├── label_5.json   # 提醒设置
├── label_6.json   # 设备状态查询
├── label_7.json   # 通话视频
├── label_8.json   # 安全监测
├── label_9.json   # 空间操作
├── label_10.json  # 视觉识别
└── label_11.json  # 地点推荐
```

### JSON格式
```json
[
  {
    "dialogue_id": "d_0_0001",
    "turns": [
      {
        "speaker": "user",
        "text": "我的电脑开不了机"
      },
      {
        "speaker": "system",
        "text": "请告诉我具体情况，是完全无响应还是蓝屏？"
      },
      {
        "speaker": "user",
        "text": "屏幕一直是黑的，按电源键没反应"
      }
    ],
    "label": 0
  }
]
```

### 字段说明
- `dialogue_id`: 对话唯一标识，格式为 `d_{label}_{序号}`
- `turns`: 对话轮次列表
  - `speaker`: 发言者，`"user"` 或 `"system"`
  - `text`: 发言内容
- `label`: 意图类别标签（0-11）

## 数据样例

### Label 0: 问题求助
```json
{
  "dialogue_id": "d_0_0001",
  "turns": [
    {"speaker": "user", "text": "WiFi连不上网是什么原因"},
    {"speaker": "system", "text": "我来帮您排查。请问其他设备能正常连接这个WiFi吗？"},
    {"speaker": "user", "text": "其他设备可以，就我的手机连不上"}
  ],
  "label": 0
}
```

### Label 2: 天气查询
```json
{
  "dialogue_id": "d_2_0001",
  "turns": [
    {"speaker": "user", "text": "今天北京天气怎么样"},
    {"speaker": "system", "text": "正在查询...今天北京天气晴，温度25度，空气质量良好。"},
    {"speaker": "user", "text": "需要带伞吗"}
  ],
  "label": 2
}
```

### Label 6: 设备状态查询
```json
{
  "dialogue_id": "d_6_0001",
  "turns": [
    {"speaker": "user", "text": "还有多少电量"},
    {"speaker": "system", "text": "当前电量65%，预计可使用5小时。"},
    {"speaker": "user", "text": "开启省电模式"}
  ],
  "label": 6
}
```

## 使用建议

### 训练集划分建议
推荐按以下比例划分：
- **训练集**: 80% (4800条)
- **验证集**: 10% (600条)
- **测试集**: 10% (600条)

### 数据加载示例
```python
import json

# 加载单个类别
with open('data/label_0.json', 'r', encoding='utf-8') as f:
    label_0_data = json.load(f)

# 加载所有类别并合并
all_data = []
for label in range(12):
    with open(f'data/label_{label}.json', 'r', encoding='utf-8') as f:
        data = json.load(f)
        all_data.extend(data)

# 随机打乱
import random
random.shuffle(all_data)

# 划分数据集
train_size = int(len(all_data) * 0.8)
dev_size = int(len(all_data) * 0.1)

train_data = all_data[:train_size]
dev_data = all_data[train_size:train_size+dev_size]
test_data = all_data[train_size+dev_size:]
```

## 数据质量保证

✓ **格式验证**: 所有对话最后一轮为用户发言  
✓ **意图明确**: 每个对话有单一清晰的意图  
✓ **逻辑连贯**: 系统回复与用户请求匹配  
✓ **数量准确**: 每个类别精确500条  
✓ **分布均衡**: 用户轮数1-4轮分布均衡  

## 生成脚本

数据集使用 `generate_dataset_v2.py` 脚本生成。如需重新生成或修改数据，可以运行：

```bash
python generate_dataset_v2.py
```

## 版本信息

- **版本**: v2.0
- **生成日期**: 2025-10-19
- **总样本数**: 6000条
- **随机种子**: 42（可复现）

## 注意事项

1. **Label 0 特殊说明**: 包含所有意图不明确、需要技术支持或问题求助的对话
2. **最后轮次**: 所有对话都以用户发言结束，这是意图识别任务的要求
3. **用户轮数**: 指对话中用户发言的次数，不是对话的总轮次数
4. **系统回复**: 系统回复内容与用户请求语义匹配，确保对话逻辑合理

## 联系方式

如有问题或建议，请联系项目维护者。

---

**数据集生成完成时间**: 2025-10-19  
**数据质量**: ✓✓✓ 已验证合格

